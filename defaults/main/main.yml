---
###############################################################################
# PiHole Service Configuration
###############################################################################
# Install size: ~30MB
#     PiHole: ~200KB.
#   Packages: ~30MB.

# PiHole FTL (TOML) Release.
#
# Role will halt execution if installed FTL (TOML) version does not match.
#
# Versions (Schematic):
#       MAJOR: Unsafe - requires major updates; only default MAJOR version
#              is supported.
#       MINOR: Safe - Usually requires no role updates.
#       PATCH: Safe - Usually requires no role updates.
#   RECOMMEND: Only increment MINOR/PATCH. Never use 'any'.
#
# Values:
#   {VERSION}: TOML release to use ('v6.2.3').
#         any: Do not halt on TOML updates. Very likely to break.
#
# Default: 'v6.2.3'.
pihole_srv_version: 'v6.2.3'

# Apply PiHole updates?
#
# Minor updates are usually safe. Major versions are not. Applied before REST
# API configuration changes occur.
#
# Default: True.
#
# Reference:
# * https://docs.pi-hole.net/main/update
pihole_srv_update_enable: true

# Enable BALLOON-SHA256 support?
#
# Highly recommended.
#
# Automatically generate $BALLOON-SHA256 hashes for provided passwords instead
# of relying manual generation with existing PiHole install.
#
# Default: True.
pihole_srv_balloon_enable: true

# PiHole REST API endpoint to use for service configuration.
#
# Default: 'https://localhost:443/api'
pihole_srv_api: 'https://localhost:443/api'

# Enable REST API configuration?
#
# Requires:
# * pihole_srv_api set.
# * pihole_cfg_webserver_api_totp_secret set.
# * pihole_cfg_webserver_api_app_pwhash or pihole_cfg_webserver_api_pwhash set.
#
# Disabling will skip all tasks which require REST API use (piholt_cfg_mgmt_*).
#
# Default: True.
pihole_srv_api_config_enable: true

###############################################################################
# Authentication
###############################################################################

# Display 2FA TOTP QR code?
#
# Requires: pihole_cfg_webserver_api_totp_secret set.
#
# Print QR code and ASCII secret during role execution for end user setup.
#
# Default: True.
pihole_srv_totp_display_enable: true

###############################################################################
# User
###############################################################################

# Create restricted PiHole user?
#
# Install a modified pihole user with additional restrictions.
#
# Changes:
# * UID: 123 (default: 997).
# * GID: 123 (default: auto).
# * home: /nonexistent (default: /home/pihole).
#
# Default: True.
pihole_srv_create_user: true
